<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Administrativo - Baterista SaaS</title>
    <link rel="icon" type="image/png" href="../assets/fiveicon.png">
    <link rel="apple-touch-icon" href="../assets/fiveicon.png">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="../assets/fiveicon.png" alt="Logo" class="sidebar-logo">
                <span class="logo-text">Musician Portfolio</span>
            </div>
            
            <nav class="nav-menu">
                <a class="nav-item active" data-tab="dashboard">
                    <i class="fas fa-home"></i> Dashboard
                </a>
                <a class="nav-item" data-tab="content">
                    <i class="fas fa-pen-nib"></i> Conteúdo
                </a>
                <a class="nav-item" data-tab="media">
                    <i class="fas fa-images"></i> Mídia & Vídeos
                </a>
                <a class="nav-item" data-tab="services">
                    <i class="fas fa-dollar-sign"></i> Preços & Serviços
                </a>
                <a class="nav-item" data-tab="contact">
                    <i class="fas fa-envelope"></i> Contato
                </a>
                <a class="nav-item" data-tab="subscription">
                    <i class="fas fa-credit-card"></i> Assinatura
                </a>
                <a class="nav-item" href="../index.html" target="_blank">
                    <i class="fas fa-external-link-alt"></i> Ver Site
                </a>
            </nav>

            <div class="sidebar-footer">
                <div class="nav-item" id="logoutBtn" style="color: var(--danger);">
                    <i class="fas fa-sign-out-alt"></i> Sair
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Topbar -->
            <header class="topbar">
                <h3 id="page-title">Visão Geral</h3>
                <div class="user-profile">
                    <div class="user-info">
                        <span id="userName">Carregando...</span>
                        <small id="userStatus" class="status-active">Assinatura Ativa</small>
                    </div>
                    <img src="../assets/logo.jpg" alt="Profile" class="user-avatar" id="userPhoto">
                </div>
            </header>

            <!-- Content Area -->
            <div class="content-area">
                
                <!-- Tab: Dashboard -->
                <div id="tab-dashboard" class="tab-content">
                    <div class="card">
                        <div class="card-header">
                            <h4>Status da Assinatura</h4>
                            <span class="status-badge status-active" id="dashSubStatus">ATIVA</span>
                        </div>
                        <p>Sua assinatura garante o acesso a este painel e a manutenção da sua landing page.</p>
                        <div style="margin-top: 20px; display: flex; gap: 20px;">
                            <div>
                                <small style="color: var(--text-muted);">Próxima Cobrança</small>
                                <h3 id="dashNextBilling">Loading...</h3>
                            </div>
                            <div>
                                <small style="color: var(--text-muted);">Valor</small>
                                <h3>R$ 9,90<small>/mês</small></h3>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h4>Ações Rápidas</h4>
                        </div>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                            <button class="btn-primary" onclick="switchTab('content')">Editar Textos</button>
                            <button class="btn-primary" onclick="switchTab('media')">Adicionar Vídeo</button>
                            <button class="btn-primary" onclick="switchTab('services')">Atualizar Preços</button>
                        </div>
                    </div>
                </div>

                <!-- Tab: Content -->
                <div id="tab-content" class="tab-content" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4>Seção Hero (Topo)</h4>
                        </div>
                        <form id="heroForm">
                            <div class="form-group">
                                <label class="form-label">Título Principal</label>
                                <input type="text" class="form-control" id="heroTitle">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Subtítulo</label>
                                <input type="text" class="form-control" id="heroSubtitle">
                            </div>
                            <!-- Image Upload for Hero -->
                            <div class="form-group">
                                <label class="form-label">Imagem Principal (Hero)</label>
                                <input type="file" class="form-control" id="heroImageFile" accept="image/*" data-target="heroImage" data-preview="heroImagePreview">
                                <input type="hidden" id="heroImage">
                                <img id="heroImagePreview" src="" alt="Preview" style="max-width: 200px; margin-top: 10px; border-radius: 5px; display: none;">
                            </div>
                            <button type="submit" class="btn-primary">Salvar Alterações</button>
                        </form>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h4>Sobre Mim</h4>
                        </div>
                        <form id="aboutForm">
                            <div class="form-group">
                                <label class="form-label">Título</label>
                                <input type="text" class="form-control" id="aboutTitle">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Texto Descritivo</label>
                                <textarea class="form-control" id="aboutText" rows="5"></textarea>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Imagem (Sobre Mim)</label>
                                <input type="file" class="form-control" id="aboutImageFile" accept="image/*" data-target="aboutImage" data-preview="aboutImagePreview">
                                <input type="hidden" id="aboutImage">
                                <img id="aboutImagePreview" src="" alt="Preview" style="max-width: 200px; margin-top: 10px; border-radius: 5px; display: none;">
                            </div>
                            <button type="submit" class="btn-primary">Salvar Alterações</button>
                        </form>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <h4>Marcas & Equipamentos</h4>
                            <button class="btn-primary" onclick="addBrandField()">+ Adicionar</button>
                        </div>
                        <div id="brandList">
                            <!-- Brand Items will be injected here -->
                        </div>
                        <button class="btn-primary" style="margin-top: 20px;" onclick="saveBrands()">Salvar Marcas</button>
                    </div>
                </div>

                <!-- Tab: Media -->
                <div id="tab-media" class="tab-content" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4>Galeria de Vídeos (YouTube)</h4>
                            <button class="btn-primary" onclick="addVideoField()">+ Adicionar</button>
                        </div>
                        <div id="videoList">
                            <!-- Video Items will be injected here -->
                        </div>
                        <button class="btn-primary" style="margin-top: 20px;" onclick="saveVideos()">Salvar Vídeos</button>
                    </div>

                    <!-- Gallery Images -->
                    <div class="card" style="margin-top: 30px;">
                        <div class="card-header">
                            <h4>Galeria de Fotos</h4>
                        </div>
                        <form id="galleryForm">
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                                <div class="form-group">
                                    <label class="form-label">Imagem 1 (Meu Setup)</label>
                                    <input type="file" class="form-control" id="gallery1File" accept="image/*" data-target="gallery1" data-preview="gallery1Preview">
                                    <input type="hidden" id="gallery1">
                                    <img id="gallery1Preview" src="" style="max-width: 100%; margin-top: 10px; border-radius: 5px; display: none;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Imagem 2 (Em Ação)</label>
                                    <input type="file" class="form-control" id="gallery2File" accept="image/*" data-target="gallery2" data-preview="gallery2Preview">
                                    <input type="hidden" id="gallery2">
                                    <img id="gallery2Preview" src="" style="max-width: 100%; margin-top: 10px; border-radius: 5px; display: none;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Imagem 3 (Detalhes)</label>
                                    <input type="file" class="form-control" id="gallery3File" accept="image/*" data-target="gallery3" data-preview="gallery3Preview">
                                    <input type="hidden" id="gallery3">
                                    <img id="gallery3Preview" src="" style="max-width: 100%; margin-top: 10px; border-radius: 5px; display: none;">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Imagem 4 (Atmosfera)</label>
                                    <input type="file" class="form-control" id="gallery4File" accept="image/*" data-target="gallery4" data-preview="gallery4Preview">
                                    <input type="hidden" id="gallery4">
                                    <img id="gallery4Preview" src="" style="max-width: 100%; margin-top: 10px; border-radius: 5px; display: none;">
                                </div>
                            </div>
                            <button type="submit" class="btn-primary" style="margin-top: 20px;">Salvar Galeria</button>
                        </form>
                    </div>

                    <!-- Backgrounds -->
                    <div class="card" style="margin-top: 30px;">
                        <div class="card-header">
                            <h4>Backgrounds & Estilo</h4>
                        </div>
                        <form id="styleForm">
                            <div class="form-group">
                                <label class="form-label">Background da Seção de Vídeos</label>
                                <input type="file" class="form-control" id="videoBgFile" accept="image/*" data-target="videoBg" data-preview="videoBgPreview">
                                <input type="hidden" id="videoBg">
                                <img id="videoBgPreview" src="" style="max-width: 300px; margin-top: 10px; border-radius: 5px; display: none;">
                            </div>
                            <button type="submit" class="btn-primary">Salvar Estilo</button>
                        </form>
                    </div>
                </div>

                <!-- Tab: Services -->
                <div id="tab-services" class="tab-content" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4>Tabela de Preços</h4>
                        </div>
                        <div id="pricingList">
                            <!-- Pricing Items -->
                        </div>
                        <button class="btn-primary" onclick="savePricing()">Salvar Preços</button>
                    </div>
                </div>

                <!-- Tab: Contact -->
                <div id="tab-contact" class="tab-content" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4>Informações de Contato</h4>
                        </div>
                        <form id="contactForm">
                            <div class="form-group">
                                <label class="form-label">WhatsApp (apenas números)</label>
                                <input type="text" class="form-control" id="contactWhatsapp">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control" id="contactEmail">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Instagram</label>
                                <input type="text" class="form-control" id="contactInstagram">
                            </div>
                            <button type="submit" class="btn-primary">Salvar Contatos</button>
                        </form>
                    </div>
                </div>

                <!-- Tab: Subscription -->
                <div id="tab-subscription" class="tab-content" style="display: none;">
                    <div class="card">
                        <div class="card-header">
                            <h4>Detalhes do Plano</h4>
                        </div>
                        <div style="text-align: center; padding: 20px;">
                            <h2 style="color: var(--primary);">Ajuda de Custo Mensal</h2>
                            <h1 style="font-size: 3rem; margin: 10px 0;">R$ 9,90</h1>
                            <p style="color: var(--text-muted);">Para manutenção da plataforma e hospedagem</p>
                            
                            <div id="paymentArea" style="margin-top: 30px; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 10px; border: 1px solid var(--border);">
                                <h4 style="color: var(--text-main); margin-bottom: 15px;">Chave Pix para Pagamento</h4>
                                <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 5px; margin-bottom: 15px; word-break: break-all; font-family: monospace; color: var(--primary); font-size: 1.1rem; border: 1px dashed var(--primary);">
                                    3bb0e547-a5ec-45a2-a6a0-336a470b4fb2
                                </div>
                                <p style="color: var(--text-muted); font-size: 0.9rem;">
                                    Realize a transferência e envie o comprovante para o administrador para liberar seu acesso.
                                </p>
                            </div>

                            <!-- Simular Pagamento Removido -->
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script type="module" src="../js/firebase-config.js"></script>
    <script type="module" src="../js/saas-engine.js"></script>
    <script type="module" src="js/admin.js"></script>
</body>
</html>
